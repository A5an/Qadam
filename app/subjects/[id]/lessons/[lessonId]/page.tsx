'use client'
import React, { useEffect, useState } from 'react'
import { useParams } from 'next/navigation'
import { Card, CardHeader, CardTitle, CardContent, CardDescription } from "@/components/ui/card"
import { Button } from "@/components/ui/button"
import Link from 'next/link'

interface LessonContent {
  id: string;
  title: string;
  description: string;
  theory: string;
  examples: string[];
}

const lessonsData: LessonContent[] = [
  {id: "1",
    title: "Основные тригонометрические функции",
    description: "Изучение синуса, косинуса и тангенса",
    theory: `
    Тригонометрические функции являются фундаментальными математическими инструментами, которые находят широкое применение в различных областях науки и техники. Они возникли из изучения соотношений между сторонами и углами треугольников, но их значение выходит далеко за рамки геометрии.

    1. Синус (sin θ):
       Определение: В прямоугольном треугольнике синус угла θ определяется как отношение длины противолежащего катета к длине гипотенузы.
       Формула: sin θ = противолежащий катет / гипотенуза
       Диапазон значений: от -1 до 1 включительно
       Периодичность: 2π (360°)
       
       Геометрическая интерпретация: На единичной окружности синус угла θ равен y-координате точки пересечения луча, образующего угол θ с положительным направлением оси x, и окружности.
       
       Свойства:
       - sin(-θ) = -sin(θ) (нечетная функция)
       - sin(π/2 - θ) = cos(θ) (дополнительные углы)
       - sin(π + θ) = -sin(θ)
       
       Применение:
       - Моделирование колебательных процессов в физике и инженерии
       - Описание звуковых и электромагнитных волн
       - Расчеты в навигации и картографии

    2. Косинус (cos θ):
       Определение: В прямоугольном треугольнике косинус угла θ определяется как отношение длины прилежащего катета к длине гипотенузы.
       Формула: cos θ = прилежащий катет / гипотенуза
       Диапазон значений: от -1 до 1 включительно
       Периодичность: 2π (360°)
       
       Геометрическая интерпретация: На единичной окружности косинус угла θ равен x-координате точки пересечения луча, образующего угол θ с положительным направлением оси x, и окружности.
       
       Свойства:
       - cos(-θ) = cos(θ) (четная функция)
       - cos(π/2 - θ) = sin(θ) (дополнительные углы)
       - cos(π + θ) = -cos(θ)
       
       Применение:
       - Расчет проекций в механике
       - Анализ периодических процессов в электротехнике
       - Компьютерная графика и анимация

    3. Тангенс (tan θ):
       Определение: Тангенс угла θ определяется как отношение синуса к косинусу этого угла, или в прямоугольном треугольнике как отношение противолежащего катета к прилежащему.
       Формула: tan θ = sin θ / cos θ = противолежащий катет / прилежащий катет
       Диапазон значений: все действительные числа
       Периодичность: π (180°)
       
       Геометрическая интерпретация: На единичной окружности тангенс угла θ равен длине отрезка касательной от точки касания до пересечения с осью x.
       
       Свойства:
       - tan(-θ) = -tan(θ) (нечетная функция)
       - tan(π/2 - θ) = 1/tan(θ) = cot(θ)
       - tan(π + θ) = tan(θ)
       
       Применение:
       - Измерение наклона в строительстве и геодезии
       - Расчеты в оптике (преломление света)
       - Определение крутизны склонов в географии

    Взаимосвязь между функциями:
    Основные тригонометрические функции тесно связаны между собой. Ключевые соотношения включают:
    
    1. Пифагорово тождество: sin²θ + cos²θ = 1
       Это фундаментальное соотношение вытекает из теоремы Пифагора и лежит в основе многих тригонометрических вычислений.
    
    2. tan θ = sin θ / cos θ
       Это определение тангенса связывает его с синусом и косинусом.
    
    3. cot θ = 1 / tan θ = cos θ / sin θ
       Котангенс является обратной функцией к тангенсу.
    
    4. sec θ = 1 / cos θ и csc θ = 1 / sin θ
       Секанс и косеканс являются обратными функциями к косинусу и синусу соответственно.

    Исторический контекст:
    Тригонометрические функции имеют богатую историю, уходящую корнями в древние цивилизации. Древние вавилоняне и египтяне использовали прототипы тригонометрических соотношений в астрономии и для строительства пирамид. Греческие математики, такие как Гиппарх и Птолемей, развили эти идеи дальше, создав первые таблицы хорд (предшественники современных тригонометрических таблиц).

    Индийские математики, включая Ариабхату и Брахмагупту, ввели понятия синуса и косинуса в их современном понимании. Арабские ученые, такие как аль-Баттани и Абу аль-Вафа, внесли значительный вклад в развитие тригонометрии как самостоятельной дисциплины.

    В эпоху Возрождения европейские математики, включая Региомонтана и Виета, систематизировали тригонометрию и расширили ее применение в астрономии и навигации. Наконец, работы Эйлера в 18 веке связали тригонометрические функции с комплексными числами, открыв новые горизонты в математическом анализе.

    Современное значение:
    Сегодня тригонометрические функции играют ключевую роль во многих областях науки и техники:
    
    1. Физика: описание колебаний, волн, периодических процессов.
    2. Инженерия: анализ структур, электрических цепей, систем связи.
    3. Компьютерная графика: трансформации и анимации в 2D и 3D пространствах.
    4. Навигация: GPS-системы, авиация, морская навигация.
    5. Астрономия: расчет орбит, определение положения небесных тел.
    6. Медицина: анализ циклических процессов в организме, обработка сигналов в медицинском оборудовании.
    7. Экономика: анализ циклических экономических процессов.

    Понимание основных тригонометрических функций открывает дверь к изучению более сложных концепций в математике и ее приложениях, делая их незаменимым инструментом в современном научном и техническом мире.
    `,
    examples: [
      "В равностороннем треугольнике со стороной 1, высота h = √3/2. Это значение sin 60°. Этот факт широко используется в геометрии и инженерных расчетах.",
      "Косинус 45° равен 1/√2 ≈ 0.707. Это следует из равенства катетов в равнобедренном прямоугольном треугольнике. Это значение часто встречается в задачах на поворот координат на 45°.",
      "Тангенс угла в 30° равен 1/√3 ≈ 0.577. Это отношение противолежащего катета (1/2) к прилежащему (√3/2) в 30-60-90 треугольнике. Этот треугольник часто используется в задачах на нахождение высоты равностороннего треугольника.",
      "В электротехнике, сигнал переменного тока описывается функцией V(t) = V₀ sin(ωt), где V₀ - амплитуда, ω - угловая частота, t - время. Это прямое применение функции синуса для описания периодических процессов.",
      "При расчете траектории брошенного тела без учета сопротивления воздуха используется формула y = x tan θ - (gx²)/(2v₀² cos² θ), где θ - угол броска, v₀ - начальная скорость, g - ускорение свободного падения. Здесь мы видим применение и тангенса, и косинуса в одном уравнении."
    ]
  },
  {
    id: "2",
    title: "Тригонометрический круг",
    description: "Понимание единичной окружности и радиан",
    theory: `
    Тригонометрический круг, также известный как единичная окружность, является мощным и элегантным инструментом для визуализации и понимания тригонометрических функций. Это концепция, которая объединяет геометрию, алгебру и анализ, предоставляя универсальный способ работы с тригонометрическими функциями для любых значений углов.

    Определение и основные характеристики:
    1. Тригонометрический круг - это окружность с радиусом 1, центр которой расположен в начале координат (0, 0) декартовой системы координат.
    2. Точка (1, 0) на положительной оси x соответствует углу 0°, или 0 радиан.
    3. Положительное направление отсчета углов - против часовой стрелки.
    4. Каждая точка на окружности соответствует определенному углу, и ее координаты дают значения косинуса (x-координата) и синуса (y-координата) этого угла.

    Радианная мера угла:
    Радиан - это угловая мера, определяемая как угол, соответствующий дуге окружности, длина которой равна радиусу этой окружности.
    
    Основные соотношения:
    - 2π радиан = 360°
    - 1 радиан ≈ 57.3°
    - π радиан = 180°
    
    Преимущества использования радиан:
    1. Упрощение многих формул в математическом анализе и физике.
    2. Естественная связь с длиной дуги: длина дуги = радиус × угол в радианах.
    3. Удобство при работе с производными и интегралами тригонометрических функций.

    Тригонометрические функции на единичной окружности:
    1. sin θ = y-координата точки на круге
    2. cos θ = x-координата точки на круге
    3. tan θ = y/x = sin θ / cos θ
    4. cot θ = x/y = cos θ / sin θ
    5. sec θ = 1 / cos θ
    6. csc θ = 1 / sin θ

    Это определение позволяет расширить понятие тригонометрических функций на любые углы, а не только на острые углы в прямоугольном треугольнике.

    Ключевые свойства и наблюдения:
    1. Периодичность: Полный оборот по окружности соответствует углу 2π (360°). Это объясняет периодичность синуса и косинуса с периодом 2π.
    
    2. Симметрия: 
       - Синус симметричен относительно начала координат (нечетная функция).
       - Косинус симметричен относительно оси y (четная функция).
    
    3. Знаки функций в разных четвертях:
       - I четверть (0° - 90°): все функции положительны
       - II четверть (90° - 180°): только синус положителен
       - III четверть (180° - 270°): только тангенс положителен
       - IV четверть (270° - 360°): только косинус положителен
    
    4. Особые точки:
       - 0° (0 рад): (cos θ, sin θ) = (1, 0)
       - 90° (π/2 рад): (0, 1)
       - 180° (π рад): (-1, 0)
       - 270° (3π/2 рад): (0, -1)
    
    5. Тангенс и котангенс:
       - Тангенс геометрически представлен как длина отрезка касательной от точки касания до пересечения с осью x.
       - Котангенс - длина отрезка касательной от точки касания до пересечения с осью y.
       - Тангенс и котангенс взаимно обратны: tan θ = 1 / cot θ
       - Тангенс не определен для углов 90° и 270°, где косинус равен нулю.
       - Котангенс не определен для углов 0° и 180°, где синус равен нулю.

    6. Секанс и косеканс:
       - Секанс (sec θ) - это расстояние от начала координат до точки пересечения луча угла θ с касательной к окружности в точке (1, 0).
       - Косеканс (csc θ) - расстояние от начала координат до точки пересечения луча угла θ с касательной к окружности в точке (0, 1).
       - sec θ = 1 / cos θ, csc θ = 1 / sin θ

    Применение тригонометрического круга:

    1. Визуализация периодичности:
       Тригонометрический круг наглядно демонстрирует, почему тригонометрические функции являются периодическими. Полный оборот по кругу возвращает нас в исходную точку, что соответствует периоду 2π для синуса и косинуса.

    2. Определение значений для любых углов:
       С помощью единичной окружности можно легко определить значения тригонометрических функций для любых углов, включая отрицательные и превышающие 360°.

    3. Понимание обратных тригонометрических функций:
       Арксинус, арккосинус и арктангенс можно интерпретировать как операции нахождения угла по заданному значению соответствующей функции на единичной окружности.

    4. Связь с комплексными числами:
       Формула Эйлера e^(iθ) = cos θ + i sin θ устанавливает глубокую связь между комплексными числами и тригонометрическими функциями, которую можно наглядно представить на единичной окружности.

    5. Аппроксимация малых углов:
       Для малых углов sin θ ≈ θ и cos θ ≈ 1 - θ²/2. Эти приближения можно визуализировать на тригонометрическом круге и они широко используются в физике и инженерии.

    6. Гармонические колебания:
       Проекция равномерного движения по окружности на ось даёт гармоническое колебание, что объясняет why синусоидальные функции так часто встречаются в природе и технике.

    Историческое значение:
    Концепция тригонометрического круга имеет глубокие исторические корни. Древнегреческий астроном Гиппарх (190-120 до н.э.) создал первую известную таблицу хорд, которая по сути была предшественником современных тригонометрических таблиц. Птолемей (100-170 н.э.) расширил эту работу в своем труде "Альмагест", используя окружность для вычисления хорд.

    Индийские математики, такие как Ариабхата (476-550) и Брахмагупта (598-668), развили идеи синуса и косинуса, которые были близки к современному пониманию. Арабские ученые, особенно аль-Баттани (858-929), внесли значительный вклад в систематизацию тригонометрии.

    В Европе эпохи Возрождения Региомонтан (1436-1476) опубликовал подробные тригонометрические таблицы и установил тригонометрию как самостоятельную математическую дисциплину. Леонард Эйлер (1707-1783) ввел современные обозначения и связал тригонометрические функции с комплексными числами через знаменитую формулу Эйлера.

    Практическое применение:

    1. Физика и инженерия:
       - Анализ колебаний и волн (механические колебания, электромагнитные волны)
       - Расчеты в электротехнике (переменный ток)
       - Оптика (распространение света, интерференция)

    2. Навигация и геодезия:
       - GPS-системы используют тригонометрические расчеты для определения местоположения
       - Измерение расстояний и высот в топографии

    3. Компьютерная графика и анимация:
       - Вращение и трансформация объектов
       - Создание реалистичных движений и эффектов

    4. Астрономия:
       - Расчет орбит небесных тел
       - Определение положения звезд и планет

    5. Архитектура и строительство:
       - Расчет нагрузок и углов наклона
       - Проектирование арок и куполов

    6. Медицина:
       - Анализ циклических процессов в организме (сердечные ритмы, биоритмы)
       - Обработка сигналов в диагностическом оборудовании (МРТ, КТ)

    7. Экономика и финансы:
       - Анализ циклических экономических процессов
       - Моделирование финансовых рынков

    Заключение:
    Тригонометрический круг - это не просто геометрическая конструкция, а фундаментальный концепт, связывающий различные области математики и ее приложений. Он предоставляет интуитивно понятный способ визуализации сложных тригонометрических соотношений и служит мостом между геометрией, алгеброй и анализом. Глубокое понимание единичной окружности открывает двери к более сложным концепциям в математике, физике и инженерии, делая ее незаменимым инструментом в современной науке и технике.
    `,
    examples: [
      "Рассмотрим угол 30° (π/6 радиан) на тригонометрическом круге. Его координаты: (√3/2, 1/2). Это дает нам точные значения cos 30° = √3/2 и sin 30° = 1/2, которые широко используются в геометрических расчетах.",
      "Для угла 45° (π/4 радиан) точка на окружности имеет координаты (1/√2, 1/√2). Это объясняет, почему sin 45° = cos 45° = 1/√2, и почему tan 45° = 1.",
      "Рассмотрим угол 120° (2π/3 радиан). На тригонометрическом круге это точка с координатами (-1/2, √3/2). Отсюда мы можем вывести, что cos 120° = -1/2 и sin 120° = √3/2. Это демонстрирует, как единичная окружность помогает находить значения тригонометрических функций для углов, превышающих 90°.",
      "В физике колебательных процессов уравнение гармонических колебаний x = A sin(ωt + φ) можно интерпретировать как проекцию движения точки по окружности радиуса A на ось x, где ω - угловая скорость, t - время, φ - начальная фаза. Это прямая связь между тригонометрическим кругом и реальными физическими процессами.",
      "При навигации с использованием GPS, положение спутника описывается углами относительно экватора и нулевого меридиана. Эти углы, по сути, являются широтой и долготой, и их можно представить на сфере, которая является трехмерным аналогом тригонометрического круга. Расчет расстояний и направлений на поверхности Земли основан на сферической тригонометрии, которая является расширением концепций единичной окружности."
    ]
  },
  {
    id: "3",
    title: "Тригонометрические тождества",
    description: "Основные тождества и формулы сложения",
    theory: `
    Тригонометрические тождества - это равенства, содержащие тригонометрические функции, которые верны для всех допустимых значений переменных. Они играют ключевую роль в упрощении выражений и решении уравнений.

    Основные тождества:
    1. Пифагорово тождество: sin²θ + cos²θ = 1
       Это фундаментальное тождество вытекает из теоремы Пифагора в единичном круге.

    2. Тождества отношений:
       tan θ = sin θ / cos θ
       cot θ = cos θ / sin θ = 1 / tan θ
       sec θ = 1 / cos θ
       csc θ = 1 / sin θ

    Формулы сложения:
    1. sin(A + B) = sin A cos B + cos A sin B
    2. cos(A + B) = cos A cos B - sin A sin B
    3. tan(A + B) = (tan A + tan B) / (1 - tan A tan B)

    Эти формулы позволяют выразить тригонометрические функции суммы углов через функции отдельных углов и являются основой для вывода многих других тождеств.

    Важность тригонометрических тождеств:
    - Упрощение сложных выражений
    - Решение тригонометрических уравнений и неравенств
    - Доказательство теорем в геометрии и анализе
    - Применение в физике и инженерии
    `,
    examples: [
      "Используя Пифагорово тождество, можно найти cos θ, зная sin θ: если sin θ = 3/5, то cos θ = ±√(1 - (3/5)²) = ±4/5.",
      "Формула синуса суммы углов позволяет вычислить sin 75°: sin 75° = sin(45° + 30°) = sin 45° cos 30° + cos 45° sin 30° = (√2/2)(√3/2) + (√2/2)(1/2) = (√6 + √2)/4.",
      "Тождество tan θ = sin θ / cos θ используется для упрощения выражений. Например, (sin x + cos x) / (sin x - cos x) = (1 + cot x) / (1 - cot x)."
    ]
  }
];

export default function LessonPage() {
  const params = useParams();
  const subjectId = params.id as string;
  const lessonId = params.lessonId as string;
  const [lessonContent, setLessonContent] = useState<LessonContent | null>(null);

  useEffect(() => {
    const lesson = lessonsData.find(l => l.id === lessonId);
    if (lesson) {
      setLessonContent(lesson);
    }
  }, [lessonId]);

  if (!lessonContent) {
    return <div>Загрузка...</div>;
  }

  return (
    <div className="min-h-screen p-4 bg-background text-foreground dark">
      <div className="flex justify-between items-center mb-4">
        <Link href={`/subjects/${subjectId}`}>
          <Button variant="outline">← Назад к урокам</Button>
        </Link>
      </div>
     
      <Card className="mb-6">
        <CardHeader>
          <CardTitle>Урок {lessonContent.id}: {lessonContent.title}</CardTitle>
          <CardDescription>{lessonContent.description}</CardDescription>
        </CardHeader>
        <CardContent>
          <h3 className="text-lg font-semibold mb-2">Теория:</h3>
          <p className="whitespace-pre-line mb-4">{lessonContent.theory}</p>
          <h3 className="text-lg font-semibold mb-2">Примеры:</h3>
          <ul className="list-disc pl-5">
            {lessonContent.examples.map((example, index) => (
              <li key={index} className="mb-2">{example}</li>
            ))}
          </ul>
        </CardContent>
      </Card>
    </div>
  );
}